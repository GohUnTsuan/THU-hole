{"code": 0, "data": [{"cid": 2439996, "deleted": false, "image_metadata": {}, "is_dz": true, "name": "洞主", "pid": 464708, "reply_to": -1, "tag": null, "text": "x=2、3、4、7、9、10: 无法连接\n", "timestamp": 1630833360, "type": "text", "url": ""}, {"cid": 2439998, "deleted": false, "image_metadata": {"h": 270, "w": 1204}, "is_dz": true, "name": "洞主", "pid": 464708, "reply_to": -1, "tag": null, "text": "x=5: 可以通过IPv4连接到美国节点，下午测速速度尚可，晚高峰速度未知\n", "timestamp": 1630833372, "type": "image", "url": "zs/zs5os46m6c66gapuppaqdhmfh2sa72uw.png"}, {"cid": 2439999, "deleted": false, "image_metadata": {"h": 286, "w": 1190}, "is_dz": true, "name": "洞主", "pid": 464708, "reply_to": -1, "tag": null, "text": "x=6: 可以通过IPv6连接到香港节点，延迟速度俱佳（包括晚高峰）\n", "timestamp": 1630833381, "type": "image", "url": "jq/jq6ndxp3so47ljsi6volmylbbpsopwug.png"}, {"cid": 2440000, "deleted": false, "image_metadata": {"h": 280, "w": 1216}, "is_dz": true, "name": "洞主", "pid": 464708, "reply_to": -1, "tag": null, "text": "x=8: 可以通过IPv4连接到美国节点，下午测速速度尚可，晚高峰速度未知\n", "timestamp": 1630833393, "type": "image", "url": "wd/wdmqgm6l6pfs733re6ssvkiec3hg54yq.png"}, {"cid": 2444660, "deleted": false, "image_metadata": {}, "is_dz": false, "name": "Alice", "pid": 464708, "reply_to": 2439996, "tag": null, "text": "Re 洞主: Windows在开启别的前提下连上了Warp+，但是Warp+连上以后替代之前梯子，然后连不上那个IP就断开了，没法用。\n\n最后说一句：把Internet变成Chinternet的领导不得好死！", "timestamp": 1630906304, "type": "text", "url": ""}, {"cid": 2444679, "deleted": false, "image_metadata": {}, "is_dz": true, "name": "洞主", "pid": 464708, "reply_to": 2444660, "tag": null, "text": "Re Alice: 可以看看配置文件里x值是不是连不上的那几个值哦，如果是的话可以更换试一下，这些IP翻墙当然能连上，但是国内被墙了，所以连不上", "timestamp": 1630906460, "type": "text", "url": ""}, {"cid": 2447978, "deleted": false, "image_metadata": {}, "is_dz": false, "name": "Alice", "pid": 464708, "reply_to": 2444679, "tag": null, "text": "Re 洞主: IP屏蔽这个除非挂梯子真没办法，ping了一下那个IP只能在挂梯子时连上，不然time error\n最后说一句：把Internet变成Chinternet的领导不得好死！", "timestamp": 1630936470, "type": "text", "url": ""}, {"cid": 2589495, "deleted": false, "image_metadata": {}, "is_dz": false, "name": "Bob", "pid": 464708, "reply_to": -1, "tag": null, "text": "为什么我全局翻墙之后能上google但是还是ping不通162.159.192.1", "timestamp": 1632548143, "type": "text", "url": ""}, {"cid": 2589566, "deleted": false, "image_metadata": {}, "is_dz": true, "name": "洞主", "pid": 464708, "reply_to": 2589495, "tag": null, "text": "Re Bob: 有可能你说的全局只是规则全局了，并没有创建虚拟网卡，所以代理不了icmp报文", "timestamp": 1632548610, "type": "text", "url": ""}], "post": {"deleted": false, "image_metadata": {}, "likenum": 38, "pid": 464708, "reply": 9, "tag": null, "text": "好像很多dy都说Cloudflare WARP没法用了，dz以前在Windows、macOS和iPhone上的配置都没有更换过，所以一直正常使用。下午发现WARP有官方的Linux软件包了，于是在Linux尝试配置了一下，发现了一些确实可能导致没办法使用的问题，抓包分析了一下，希望对dym有用。\n\nPS： 以下分析结果均是基于WARP 2021.8.1 on Debian版本。不保证本洞方法一定能解决你的问题。\n\n1. 首先，要使用WARP，第一步需要先向Cloudflare注册一个ID（Linux上需要手动运行`warp-cli register`，其他平台都是在GUI上第一次点按钮连接时会自动注册）。这里会出现第一个问题，即WARP是向`162.159.192.1`这个IP发送注册请求的，而经我测试这个IP在校园网访问不了，疑似被墙了，因此有些同学在重装WARP过后会卡在注册这一步。这里我的解决办法是在注册时全局翻墙即可。\n   \n2. 注册完成后，检查一下WARP自动获取的配置文件。\n   \n   - macOS: `/Library/Application Support/Cloudflare/conf.json`\n   - Linux: `/var/lib/cloudflare-warp/conf.json`\n   - Windows: `C:\\ProgramData\\Cloudflare\\conf.json`\n   - iOS和iPadOS可以在`右上角菜单-高级-诊断-调试配置-warpConfig`中查看（Android没记错的话应该也在相同位置，dz开发机在实验室所以无法确认）\n\n3. 在配置文件中找到`endpoint`选项。一般为`{\"endpoint\":{\"v4\":\"162.159.192.x\",\"v6\":\"2606:4700:d0::a29f:c00x\"}}`其中两个`x`是互相对应的数值（注意一个是十进制一个是十六进制，比如`162.159.192.6`对应`2606:4700:d0::a29f:c006`，`162.159.192.10`对应`2606:4700:d0::a29f:c00a`），这个`x`决定了是否能够连接上WARP。dz目前试了几个值（放在下面的评论中了，都只写十进制，IPv6地址的十六进制dym就自己换算吧），由于请求Cloudflare API次数太多，dz暂时被ban了，如果dym试出来了其他的值可以再继续补充（能补上测速图最好了）。\n   \n4. 如果当前`x`值连不上WARP的话，可以清除WARP的配置，重新注册，直到拿到一个可用的`x`为止。\n   \n   - macOS及Windows可以点击`Preferences-Connection-Reset All Settings`删除配置\n   - Linux运行`warp-cli reset-settings`\n   - iOS和iPadOS可以在`右上角菜单-高级-连接选项-重置所有设置`删除配置（Android同上）", "timestamp": 1630833353, "type": "text", "updated_at": 1632548610, "url": "", "vote": {}}}